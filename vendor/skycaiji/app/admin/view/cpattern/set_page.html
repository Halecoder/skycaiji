{assign name="_tpl_page_type" value="[_page_type]" /}
{php}$_tpl_vars=\util\Tools::cp_page_tpl_vars($_tpl_page_type);{/php}

{if $_tpl_page_type=='level_url'}
	{include file="cpattern:set_page_rule" _page_type="level_url" _is_pagination="" /}
{elseif $_tpl_page_type=='url' /}
	{include file="cpattern:set_page_rule" _page_type="url" _is_pagination="" /}
{elseif $_tpl_page_type=='relation_url' /}
	{include file="cpattern:set_page_rule" _page_type="relation_url" _is_pagination="" /}
{/if}

<div class="panel panel-default" id="panel_{$_tpl_vars['id']}_web">
	<div class="panel-heading">
	    <h4 class="panel-title">
	        <a data-toggle="collapse" href="#{$_tpl_vars['id']}_web" aria-expanded="false" class="collapsed">请求{$_tpl_vars['title']}网址</a>
	    </h4>
	</div>
	<div id="{$_tpl_vars['id']}_web" class="panel-collapse collapse" aria-expanded="false">
		<div class="panel-body">
			<div class="form-group" style="margin-bottom:0;">
		    	<label class="control-label">开启自定义请求</label>
		    	<div class="input-group">
			        <label class="radio-inline"><input type="radio" name="{$_tpl_vars['name']}[url_web][open]" value="1">是</label>
					<label class="radio-inline"><input type="radio" name="{$_tpl_vars['name']}[url_web][open]" value="0" checked="checked">否</label>
		        </div>
		        <p class="help-block">抓取网址时使用自定义设置</p>
		    </div>
			<div id="{$_tpl_vars['id']}_web_open" style="display:none;margin-top:15px;">	  
				<div class="form-group">
					<label class="control-label">页面编码</label>
					<div class="input-group input-select-custom">
						<div class="input-group-btn">
							<select name="{$_tpl_vars['name']}[url_web][charset]" class="form-control">		
								<option value="">默认：采集器设置»网页编码</option>
								<option value="utf-8">utf-8</option>
								<option value="gbk">gbk</option>
								<option value="gb2312">gb2312</option>
								<option value="custom">自定义</option>
							</select>
						</div>
						<input type="text" class="form-control" name="{$_tpl_vars['name']}[url_web][charset_custom]">
					</div>
				</div>
				<div class="form-group">
					<label>请求方式</label>
					<select name="{$_tpl_vars['name']}[url_web][form_method]" class="form-control">
						<option value="">GET</option>
						<option value="post">POST</option>
					</select>
				</div>
				<div class="form-group c-p-url-web-content-type" style="display:none;">
					<label>POST数据类型</label>
					<select name="{$_tpl_vars['name']}[url_web][content_type]" class="form-control">
						<option value="">默认表单数据：application/x-www-form-urlencoded</option>
						<option value="application/json">JSON数组：application/json</option>
						<option value="multipart/form-data">表单上传：multipart/form-data</option>
					</select>
				</div>
				<div class="form-group">
					<label class="control-label">发送数据 <a href="javascript:;" class="glyphicon glyphicon-plus add-url-web-form" title="添加" style="font-size:12px;"></a></label>
	            	<table class="table table-bordered table-hover c-p-url-web-form" style="margin-bottom:0;">
	                   <thead>
	                       <tr>
	                           <td>名称</td>
	                           <td>值</td>
	                           <td>删除</td>
	                       </tr>
	                   </thead>
	                   <tbody>
	                   </tbody>
					</table>
				</div>
				<div class="form-group">
					<label>使用全局请求头</label>
					<select name="{$_tpl_vars['name']}[url_web][header_global]" class="form-control">
						<option value="">默认：采集器设置»请求头信息»抓取页面中的配置（受全局开启状态影响）</option>
						<option value="y">强制使用</option>
						<option value="n">强制禁用</option>
					</select>
				</div>
				<div class="form-group">
					<label class="control-label">请求头信息 <a href="javascript:;" class="glyphicon glyphicon-plus add-url-web-header" title="添加" style="font-size:12px;"></a></label>
	            	<table class="table table-bordered table-hover c-p-url-web-header" style="margin-bottom:0;">
	                   <thead>
	                       <tr>
	                           <td>名称</td>
	                           <td>值</td>
	                           <td>删除</td>
	                       </tr>
	                   </thead>
	                   <tbody>
	                   </tbody>
					</table>
					<p class="help-block">添加新的或者覆盖已有的请求头信息</p>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="panel panel-default" id="panel_{$_tpl_vars['id']}_content_sign"{if $_tpl_page_type=='url'} style="margin-bottom:0;"{/if}>
	<div class="panel-heading">
	    <h4 class="panel-title">
	        <a data-toggle="collapse" href="#{$_tpl_vars['id']}_content_sign" aria-expanded="false" class="collapsed">提取内容标签</a>
	    </h4>
	</div>
	<div id="{$_tpl_vars['id']}_content_sign" class="panel-collapse collapse" aria-expanded="false">
		<div class="panel-body">
			<div class="form-group">
				<label class="control-label">
	    			内容标签
	     			<a href="javascript:;" class="glyphicon glyphicon-plus add-url-content-sign" title="添加" style="font-size:12px;"></a>
	     		</label>
	     		<div class="c-p-url-content-signs">
				</div>
     			<p class="help-block">从当前{$_tpl_vars['title']}中提取数据并保存为[内容]标签，可供全局调用</p>
     		</div>
		</div>
	</div>
</div>

{if $_tpl_page_type=='source_url'}
	{include file="cpattern:set_pagination" _page_type="source_url" /}
{elseif $_tpl_page_type=='level_url' /}
	{include file="cpattern:set_pagination" _page_type="level_url" /}
{/if}
